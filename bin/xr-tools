#!/usr/bin/env node

const program = require('commander')
const package = require('../package.json')
const init = require('../lib/init/index')

program
	.version(package.version)

program
	.command('init <name>')
	.description('execute the given remote cmd')
	.action(function(name) {
		init(name)
	})

program
	.command('*')
	.action(function(env) {
		console.log('没有这个命令 "%s"', env)
	})


program.parse(process.argv)

//捕获当前进程接收到的信号（如按下了 ctrl + c)
process.on('SIGINT', function() {
	program.runningCommand && program.runningCommand.kill('SIGKILL');
	process.exit(0);
})